/*
 * dac.c
 *
 *  Created on: Mar 27, 2019
 *      Author: neufe
 */


#include "stm32l4xx_hal.h"
#include <system.h>



void dac_enable(void)
{
/*Enable RCC Clock*/
((RCC)->APB1ENR1) |= RCC_DAC_ENABLE;
/*Set GPIO PA5 to Analog Mode */
((GPIOA)->MODER) |= ((AN_MODE)<<(GPIO_5_DSHIFT));

/*Connect DAC2 to on chip Peripheral*/
((DAC)->MCR) |= ((MODE_1) <<(CH2_SHIFT));

/*Enable to the DAC*/
((DAC)->CR) |= CH2_ENABLE;


((DAC)->DHR12RD) &= 0U;
((DAC)->DHR12RD) |= ((1U) << (CH2_SHIFT));





}
